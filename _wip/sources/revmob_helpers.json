{"revmob_helpers":{"sounds":[],"source":{"scripts":{"revmob_helpers.lua":"-- =============================================================\n-- RevMob Helpers Module - Generated by EAT Lean/Fat\n-- EAT Lean - https://gumroad.com/l/eatlean\n-- EAT Fat  - https://gumroad.com/l/EATFrameOneTime\n-- =============================================================\n-- revmob_helpers.lua\n-- =============================================================\n--[[\n\n   Includes these functions:\n\n   revmob_helpers.setID( os, adType, id ) - Set an id manually (do before init if at all).\n   revmob_helpers.init( [delay [, autoStartOnResume ] ] ) - Initialize ads with optional delay.  \n      If second argument is 'true', helper will automatically (re-) start session on each resume.\n\n   revmob_helpers.startSession( ) - Re-connect to RevMob.\n\n   revmob_helpers.loadBanner() - Load banner ad.\n   revmob_helpers.loadInterstitial() - Load interstitial ad.\n   revmob_helpers.loadVideo() - Load basic video ad.\n   revmob_helpers.loadRewardedVideo() - Load rewarded video ad.\n\n   revmob_helpers.showBanner( [ position [, targetingOptions ] ] ) - Show banner ad.\n   revmob_helpers.showInterstitial( [ targetingOptions ] ) - Show interstitial ad.\n   revmob_helpers.showVideo( [ targetingOptions ] ) - Show basic video ad.\n   revmob_helpers.showRewardedVideo( [ targetingOptions ] ) - Show rewarded video ad.\n\n   revmob_helpers.isLoadedBanner() - Returns true if banner ad is loaded.\n   revmob_helpers.isLoadedInterstitial() - Returns true if interstitial ad is loaded.\n   revmob_helpers.isLoadedVideo() - Returns true if video ad is loaded.\n   revmob_helpers.isLoadedRewardedVideo() - Returns true if rewarded video ad is loaded.\n   revmob_helpers.hide( ) - Hide any showing revMob ad.\n\n--]]\n-- =============================================================\nlocal onSimulator    = ( system.getInfo( \"environment\" ) == \"simulator\" )\nlocal oniOS          = ( system.getInfo(\"platformName\") == \"iPhone OS\" )\nlocal onAndroid      = ( system.getInfo(\"platformName\") == \"Android\" )\nlocal onWinPhone     = ( system.getInfo(\"platformName\") == \"WinPhone\" )\nlocal onOSX          = ( system.getInfo(\"platformName\") == \"Mac OS X\" )\nlocal onAppleTV      = ( system.getInfo(\"platformName\") == \"tvOS\" )\nlocal onAndroidTV    = ( (system.getInfo(\"androidDisplayDensityName\") == \"tvdpi\") or\n                         (tostring(system.getInfo(\"androidDisplayApproximateDpi\")) == \"213\" ) )\nlocal onWin          = ( system.getInfo(\"platformName\") == \"Win\" )\nlocal onNook         = ( system.getInfo(\"targetAppStore\") == \"nook\" )\nlocal onAmazon       = ( system.getInfo(\"targetAppStore\") == \"amazon\" or\n                         ( string.find( system.getInfo(\"model\"), \"Fire\" ) ~= nil ) )\nlocal onDesktop      = ( ( onOSX or onWin ) and not onSimulator )\nlocal onDevice       = ( onAndroid or oniOS or onAppleTVOS or onAndroidTV  )\n-- =============================================================\n-- =============================================================\nlocal revmob = require( \"plugin.revmob\" )\n\nlocal lastID -- Set 'on show' to simplify call to hide\n\nlocal revmob_helpers = {}\n\n-- ==\n--    Table of ids, separated by OS and type (banner or interstitial)\n-- ==\nlocal ids = \n{ \n   android = \n   { \n      banner         = ANDROID_BANNER_ID, \n      interstitial   = ANDROID_INTERSTITIAL_ID,\n      video          = ANDROID_VIDEO_ID,\n      rewarded       = ANDROID_REWARDED_ID\n   },\n   ios = \n   { \n      banner         = IOS_BANNER_ID, \n      interstitial   = IOS_INTERSTITIAL_ID,\n      video          = IOS_VIDEO_ID,\n      rewarded       = IOS_REWARDED_ID\n   },\n}\n\n-- ==\n--    Example RevMob Listener \n-- ==\nlocal function listener( event ) \n   -- Extract base set of useful event details:\n   local isError     = (event.isError == nil) and false or event.isError\n   local phase       = (event.phase == nil) and \"unknown\" or event.phase   \n   local eType       = (event.type == nil) and \"unknown\" or event.type   \n   local response    = (event.name == nil) and \"unknown\" or event.response\n   local provider    = (event.provider == nil) and \"unknown\" or event.provider\n\n   print(\"RevMob Listener Event @ \", system.getTimer )\n   print('isError: ' .. tostring( isError ) .. '; phase == \"' .. tostring(phase) .. '\"; response == \"' .. tostring(response) .. '\"' )\n\n   -- Do something with the above details...\n   --\n   if( isError ) then\n      print( \"RevMob is getting errors.\")\n      for k,v in pairs( event ) do\n         print(k,v)\n      end\n   \n   else\n      -- Note: There may be more phases.\n      if( phase == \"init\" ) then\n      elseif( phase == \"sessionStarted\" ) then\n      elseif( phase == \"loaded\" ) then\n      elseif( phase == \"displayed\" ) then\n      elseif( phase == \"failed\" ) then\n      elseif( phase == \"videoPlaybackBegan\" ) then\n      elseif( phase == \"videoCompleted\" ) then\n      elseif( phase == \"rewardedVideoPlaybackBegan\" ) then\n      elseif( phase == \"rewardedVideoCompleted\" ) then\n      elseif( phase == \"hidden\" ) then\n      else        \n         print( \"RevMob is getting a weird event.phase value?! ==> \" .. tostring( event.phase ) )\n         for k,v in pairs( event ) do\n            print(k,v)\n         end\n      end\n   end\nend\n\n-- =============================================================\n-- setID( os, adType, id ) - Set an id for a specific OS and ad type\n--\n-- os - 'android' or 'ios'\n-- adType - 'banner', 'interstitial', 'video', 'rewarded'\n-- id - Must be a valid ID\n--\n-- =============================================================\nfunction revmob_helpers.setID( os, adType, id )\n   ids[os][adType] = id\nend\n\n-- =============================================================\n-- init( [ delay, autoStartOnResume ] ] ) - Initilize revMob ad network.\n--   If delay is specified, wait 'delay' ms then initialize.\n--   If second argument is 'true', the helper will automtically call\n--   revmob_herlpers.startSession() after each suspend/resume.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/init.html\n-- =============================================================\nfunction revmob_helpers.init( delay, autoStartOnResume )\n   -- Set default delay if not provided\n   delay = delay or 0 \n   \n   -- A function that we may call immediately or with a delay\n   -- to do the initialization work.\n   local function doInit()\n\n      -- If on Android,\n      if( onAndroid ) then\n         \n         -- and a rewarded ID was provided, then init with it\n         if( ids.android.rewarded ) then\n            revmob.init( listener, { appId = ids.android.rewarded } )\n\n         -- or a video ID was provided, then init with it\n         elseif( ids.android.video ) then\n            revmob.init( listener, { appId = ids.android.video } )\n\n         -- or a interstial ID was provided, then init with it\n         elseif( ids.android.interstitial ) then\n            revmob.init( listener, { appId = ids.android.interstitial } )\n\n         -- or a banner id was supplied and init with it\n         elseif( ids.android.banner ) then\n            revmob.init( listener, { appId = ids.android.banner } )\n\n         end\n\n      -- else if on iOS,\n      elseif( oniOS ) then \n\n         -- and a rewarded ID was provided, then init with it\n         if( ids.ios.rewarded ) then\n            revmob.init( listener, { appId = ids.ios.rewarded } )\n\n         -- or a video ID was provided, then init with it\n         elseif( ids.ios.video ) then\n            revmob.init( listener, { appId = ids.ios.video } )\n\n         -- or a interstial ID was provided, then init with it\n         elseif( ids.ios.interstitial ) then\n            revmob.init( listener, { appId = ids.ios.interstitial } )\n\n         -- or a banner id was supplied and init with it\n         elseif( ids.ios.banner ) then\n            revmob.init( listener, { appId = ids.ios.banner } )\n\n         end\n      end\n\n   end\n\n   -- Auto (re-) start on resume?\n   --\n   if( autoStartOnResume == true ) then\n      local function onSystemEvent( event )\n         if ( event.type == \"applicationResume\" ) then      \n            revmob_helpers.startSession()\n         end\n      end\n      Runtime:addEventListener( \"system\", onSystemEvent )\n   end\n\n   -- Initialize immediately or wait a little while?\n   --\n   if( delay < 1 ) then\n      doInit()\n   else\n      timer.performWithDelay( delay, doInit )\n   end\n\nend\n\n-- =============================================================\n-- startSession() -- (Re-) start vungle session.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/startSession.html\n-- =============================================================\nfunction revmob_helpers.startSession(  )\n   revmob.startSession()\nend\n\n-- =============================================================\n-- loadBanner() -- Load a banner if we can.\n-- loadInterstitial() -- Load an interstitial if we can.\n-- loadVideo() -- Load a video if we can.\n-- loadRewardedVideo() -- Load a rewarded video if we can.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/load.html\n-- =============================================================\nfunction revmob_helpers.loadBanner()\n   if( onAndroid ) then\n      revmob.load( \"banner\", ids.android.banner )\n   elseif( oniOS ) then\n      revmob.load( \"banner\", ids.ios.banner )\n   end\nend\nfunction revmob_helpers.loadInterstitial()\n   if( onAndroid ) then\n      revmob.load( \"interstitial\", ids.android.interstitial )\n   elseif( oniOS ) then\n      revmob.load( \"interstitial\", ids.ios.interstitial )\n   end\nend\nfunction revmob_helpers.loadVideo()\n   if( onAndroid ) then\n      revmob.load( \"video\", ids.android.video )\n   elseif( oniOS ) then\n      revmob.load( \"video\", ids.ios.video )\n   end\nend\nfunction revmob_helpers.loadRewardedVideo()\n   if( onAndroid ) then\n      revmob.load( \"rewardedVideo\", ids.android.rewarded )\n   elseif( oniOS ) then\n      revmob.load( \"rewardedVideo\", ids.ios.rewarded )\n   end\nend\n\n-- =============================================================\n-- showBanner( [ position ] ) -- Show a banner if we can.\n-- position \"top\", \"bottom, \"center\" (default: \"top\" )\n--\n-- showInterstitial() -- Show an interstitial if we can.\n-- showVideo() -- Show a video if we can.\n-- showRewardedVideo() -- Show a rewarded video if we can.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/show.html\n-- =============================================================\nfunction revmob_helpers.showBanner( position )\n   position = position or \"top\"\n   if( onAndroid ) then\n      revmob.show( ids.android.banner, { yAlign = position } )\n      lastID = ids.android.banner\n   elseif( oniOS ) then\n      revmob.show( ids.ios.banner, { yAlign = position } )\n      lastID = ids.ios.banner\n   end\nend\nfunction revmob_helpers.showInterstitial()\n   if( onAndroid ) then\n      revmob.show( ids.android.interstitial )\n      lastID = ids.android.interstitial\n   elseif( oniOS ) then\n      revmob.show( ids.ios.interstitial )\n      lastID = ids.ios.interstitial\n   end\nend\nfunction revmob_helpers.showVideo()\n   if( onAndroid ) then\n      revmob.show( ids.android.video )\n      lastID = ids.android.video\n   elseif( oniOS ) then\n      revmob.show( ids.ios.video )\n      lastID = ids.ios.video\n   end\nend\nfunction revmob_helpers.showRewardedVideo()\n   if( onAndroid ) then\n      revmob.show( ids.android.rewarded )\n      lastID = ids.android.rewarded\n   elseif( oniOS ) then\n      revmob.show( ids.ios.rewarded )\n      lastID = idsids.ios.rewarded\n   end\nend\n\n\n-- =============================================================\n-- isLoadedBanner() - Returns true if banner ad is loaded.\n-- isLoadedInterstitial() - Returns true if interstitial ad is loaded.\n-- isLoadedVideo() - Returns true if video ad is loaded.\n-- isLoadedRewardedVideo() - Returns true if rewarded video ad is loaded.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/isLoaded.html\n-- =============================================================\nfunction revmob_helpers.isLoadedBanner()\n   if( onAndroid ) then\n      return revmob.isLoaded( ids.android.banner )\n   elseif( oniOS ) then\n      return revmob.isLoaded( ids.ios.banner )\n   end\n   return false\nend\nfunction revmob_helpers.isLoadedInterstitial()\n   if( onAndroid ) then\n      return revmob.isLoaded( ids.android.interstitial )\n   elseif( oniOS ) then\n      return revmob.isLoaded( ids.ios.interstitial )\n   end\n   return false\nend\nfunction revmob_helpers.isLoadedVideo()\n   if( onAndroid ) then\n      return revmob.isLoaded( ids.android.video )\n   elseif( oniOS ) then\n      return revmob.isLoaded( ids.ios.video )\n   end\n   return false\nend\nfunction revmob_helpers.isLoadedRewardedVideo()\n   if( onAndroid ) then\n      return revmob.isLoaded( ids.android.rewarded )\n   elseif( oniOS ) then\n      return revmob.isLoaded( ids.ios.rewarded )\n   end\n   return false\nend\n\n-- =============================================================\n-- hide() -- Hide (last shown) revmob ad.\n--\n-- https://docs.coronalabs.com/daily/plugin/revmob/hide.html\n-- =============================================================\nfunction revmob_helpers.hide( )\n   if( lastID ) then\n      revmob.hide( lastID )\n      lastID = nil\n   end\nend\n\n\nreturn revmob_helpers"}},"name":"revmob_helpers","images":[]}}